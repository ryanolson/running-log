

{# Source: https://gist.github.com/havvg/3226804 #}
{% macro form_async_data() %}
$('.modal').on('submit','form[data-async]', function(event) {
    var $form = $(this);
    var $target = $($form.attr('data-target'));

    $.ajax({
        type: $form.attr('method'),
        url: $form.attr('action'),
        data: $form.serialize(),
 
        success: function(data, status) {
            var $target_body = $($target.find('.modal-body'));
            var $data_body = $($(data).find('.modal-body'));
            // console.log($target_body.html());
            // console.log($data_body.html());
            $target_body.html($data_body.html());
        }
    }); 
 
    event.preventDefault();
});
{% endmacro %}
